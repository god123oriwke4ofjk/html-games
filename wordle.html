<html>
<head>
<title>PornHub.com</title>
<style>
body {
    font-family: comic sans ms, arial;
    text-align: center;
    background-color: white;
}
#gameBoard {
    margin: 20px auto;
}
.row {
    display: flex;
    justify-content: center;
}
.cell {
    width: 50px;
    height: 50px;
    border: 3px dashed black;
    margin: 3px;
    font-size: 20px;
    text-align: center;
    line-height: 50px;
    overflow: visible;
    white-space: nowrap;
}
.correct {
    background-color: lime;
    color: black;
}
.close {
    background-color: yellow;
    color: black;
}
.wrong {
    background-color: grey;
}
#message {
    font-size: 30px;
    color: red;
    margin: 15px;
    font-weight: bold;
}
#guessInput {
    font-size: 18px;
    border: 2px solid hotpink;
    padding: 5px;
}
#alphabet {
    margin: 20px auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    max-width: 400px;
}
.letter-row {
    display: flex;
    justify-content: center;
}
.letter {
    width: 30px;
    height: 30px;
    margin: 3px;
    font-size: 18px;
    text-align: center;
    line-height: 30px;
    border: 1px solid black;
}
</style>
</head>
<body>
<h1>TOTALLY NORMAL WORDLE</h1>
<p>if you guess wrong you have to kill yourself</p>
<div id="gameBoard"></div>
<input type="text" id="guessInput" placeholder="type youre word">
<button onclick="checkguess()">take a guess</button>
<p id="message"></p>
<div id="alphabet"></div>

<script>
var words = ["sex"];
var word = words[Math.floor(Math.random() * words.length)];
var attemps = 0;
var maxAttemps = 6;
var guesses = [];
var letterStatuses = {};

function makeBoard() {
    var board = document.getElementById("gameBoard");
    board.innerHTML = "";
    var latestGuessLength = guesses.length > 0 ? guesses[guesses.length - 1].length : 5;
    for (var i = 0; i < maxAttemps; i++) {
        var row = document.createElement("div");
        row.className = "row";
        var guessLength = guesses[i] ? guesses[i].length : latestGuessLength;
        for (var j = 0; j < guessLength; j++) {
            var cell = document.createElement("div");
            cell.className = "cell";
            if (guesses[i]) {
                cell.innerText = guesses[i][j];
                if (guesses[i][j] == word[j]) {
                    cell.classList.add("correct");
                } else if (word.includes(guesses[i][j])) {
                    cell.classList.add("close");
                } else {
                    cell.classList.add("wrong");
                }
            }
            row.appendChild(cell);
        }
        board.appendChild(row);
    }
    updateAlphabet();
}

function updateAlphabet() {
    var alphabetDiv = document.getElementById("alphabet");
    alphabetDiv.innerHTML = "";
    var keyboardLayout = [
        "qwertyuiop".split(""),
        "asdfghjkl".split(""),
        "zxcvbnm".split("")
    ];
    keyboardLayout.forEach(function(rowLetters) {
        var letterRow = document.createElement("div");
        letterRow.className = "letter-row";
        rowLetters.forEach(function(letter) {
            var letterDiv = document.createElement("div");
            letterDiv.className = "letter";
            letterDiv.innerText = letter;
            if (letterStatuses[letter] == "correct") {
                letterDiv.classList.add("correct");
            } else if (letterStatuses[letter] == "close") {
                letterDiv.classList.add("close");
            } else if (letterStatuses[letter] == "wrong") {
                letterDiv.classList.add("wrong");
            }
            letterRow.appendChild(letterDiv);
        });
        alphabetDiv.appendChild(letterRow);
    });
}

function checkguess() {
    var guess = document.getElementById("guessInput").value.toLowerCase();
    if (guess.length < 1) {
        document.getElementById("message").innerText = "dude, type SOMETHING!!";
        return;
    }

    guesses[attemps] = guess;
    for (var i = 0; i < guess.length; i++) {
        if (guess[i] == word[i]) {
            letterStatuses[guess[i]] = "correct";
        } else if (word.includes(guess[i]) && letterStatuses[guess[i]] != "correct") {
            letterStatuses[guess[i]] = "close";
        } else if (!word.includes(guess[i]) && !letterStatuses[guess[i]]) {
            letterStatuses[guess[i]] = "wrong";
        }
    }

    makeBoard();

    attemps++;

    if (guess == word) {
        document.getElementById("message").innerText = "WOW YOU WON!! YOUR A GENIUS!! ðŸŽ‰ ";
        document.getElementById("guessInput").disabled = true;
        document.querySelector("button").disabled = true;
    } else if (attemps >= maxAttemps) {
        document.getElementById("message").innerText = "OOPS U LOST!! word was " + word + " ðŸ˜­ (now hang yourself)";
        document.getElementById("guessInput").disabled = true;
        document.querySelector("button").disabled = true;
    } else if (word.startsWith(guess) && guess.length < word.length) {
        document.getElementById("message").innerText = "close, but theres more";
    } else {
        document.getElementById("message").innerText = "";
    }

    document.getElementById("guessInput").value = "";
}

document.getElementById("guessInput").addEventListener("keypress", function(event) {
    if (event.key === "Enter") {
        checkguess();
    }
});

makeBoard();
</script>
</body>
</html>
